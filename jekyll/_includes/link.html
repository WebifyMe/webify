{% if include.link.pdf %}
{% assign link_kind = "PDF" %}
{% unless include.link.link %}
{% if include.link.pdf contains "://" %}
{% assign link_url = include.link.pdf | prepend: "http://docs.google.com/gview?url=" %}
{% else %}
{% assign link_url = include.link.pdf %}
{% endif %}
{% endunless %}
{% endif %}

{% if include.link.notebook %}
{% assign link_kind = "Notebook" %}
{% assign metadata_name = include.link.notebook | replace: "/", "_" | remove: " " %}
{% assign link_text = site.data.notebooks[metadata_name].title %}
{% assign link_description = site.data.notebooks[metadata_name].description %}
{% unless include.link.link %}
{% assign link_url = include.link.notebook | prepend: site.baseurl   %}
{% endunless %}
{% endif %}

{% if include.link.index %}
{% assign index_tag = include.link.index | replace: "/", "_" | remove: " " %}
{% assign link_kind = "Page" %}
{% assign link_text = site.data[index_tag].title %}
{% assign link_description = site.data[index_tag].description.content | default: site.data[index_tag].description | default: site.data[index_tag].header.description | default: site.data[index_tag].header  %}
{% unless include.link.link %}
{% assign link_url = include.link.index | prepend: site.baseurl | append: ".html" %}
{% endunless %}
{% endif %}


{% assign link_url = include.url | default : include.link.link | default: link_url  %}
{% assign link_text = include.text | default: include.link.text | default: link_text %}
{% assign link_icon = include.icon | default: include.link.icon %}
{% assign link_description = include.description | default: include.link.description | default: link_description %}
{% assign link_kind = include.kind | default: include.link.kind | default: link_kind %}

{% unless include.grouped %}
<a href="{{ link_url }}" class="btn {{include.class}}"
   {% if include.description or include.link.description %}
   data-bs-toggle="tooltip" data-bs-html="true" title="{{include.description | default : include.link.description}}"
   {% else %}
   {% if include.link.index or include.link.md or include.link.notebook %}
   data-bs-toggle="tooltip" data-bs-html="true" title="{{link_description}}"
   {% endif %}
   {% endif %}
>
    {% if include.icon or include.link.icon %}
    <i class="{{ include.icon | default: include.link.icon }}" aria-hidden="true"></i>
    {% endif %}
    {% if include.text or include.link.text %}
    {{ include.text | default: include.link.text  }}
    {% else %}
    {% if include.link.index or include.link.md or include.link.notebook %}
    {{ link_text  }}
    {% endif %}
    {% endif %}
</a>
{% else %}
<a href="{{ link_url }}" class="list-group-item list-group-item-action p-4 m-0">
    <div class="d-flex w-100 justify-content-between py-0 my-0 p-0">
        <h5>
            {% if include.icon or include.link.icon %}
            <i class="{{ include.icon | default: include.link.icon }}" aria-hidden="true"></i>
            {% endif %}
            {% if include.text or include.link.text %}
            {{ include.text | default: include.link.text  }}
            {% else %}
            {% if include.link.index or include.link.md or include.link.notebook %}
            {{ link_text  }}
            {% endif %}
            {% endif %}
        </h5>
        {% if include.kind or include.link.kind %}
        <small>{{include.kind | default: include.link.kind | capitalize}}</small>
        {% else %}
        {% if include.link.index or include.link.md or include.link.notebook or include.link.pdf %}
        {% if link_kind %}
        <small>{{ link_kind  }}</small>
        {% endif %}
        {% endif %}
        {% endif %}
    </div>

    {% if include.description or include.link.description  %}
    <div class="mb-1">
        {{ include.description | default: include.link.description }}
    </div>
    {% else %}
    {% if include.link.index or include.link.md or include.link.notebook %}
    {% if link_description %}
    <div class="mb-1">
        {{ link_description }}
    </div>
    {% endif %}
    {% endif %}
    {% endif %}
</a>
{% endunless %}